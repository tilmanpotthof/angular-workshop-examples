<div class="container" ng-controller="UserManagementController">
  <div class="row">
    <h1>Benutzerverwaltung</h1>

    <div class="col-xs-3">
      <h3>Neuer Benutzer</h3>

      <form ng-submit="addUser(user)">
        <div ng-include="'app/userManagement/userFormFields.html'"></div>
        <button class="btn btn-default">Benutzer hinzufÃ¼gen</button>
      </form>
    </div>
    <div class="col-xs-9">
      <h3>Benutzerliste</h3>
      <pre ng-if="DEBUG"><code>{{ users | json }}</code></pre>
      <input type="number" ng-model="userCount"/>
      <table class="table">
        <thead>
        <tr>
          <th>Vorname</th>
          <th>Nachname</th>
          <th>Eigenschaften</th>
          <th>Lieblingsessen</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="user in users" ng-class="{'success': user.bremenFan}">
          <td>
            <span ng-show="!editing">
              {{ user.name.first }}
            </span>
            <span ng-show="editing">
              <input type="text" ng-model="user.name.first" class="form-control"/>
            </span>
          </td>
          <td>
            <span ng-show="!editing">
              {{ user.name.last }}
            </span>
            <span ng-show="editing">
              <input type="text" ng-model="user.name.last" class="form-control"/>
            </span>
          </td>
          <td>
            <span ng-show="!editing">
              {{ getPropertiesString(user) }}
            </span>
            <span ng-show="editing">
              <label>
                <input type="checkbox" ng-model="user.macUser" /> Mac-User
              </label>
              <label>
                <input type="checkbox" ng-model="user.bremenFan" /> Bremen-Fan
              </label>
              <label>
                <input type="checkbox" ng-model="user.vegetarier" /> Vegetarier
              </label>
            </span>
          </td>
          <td>
            <span ng-show="!editing">
              {{ user.lieblingsessen.name }}
            </span>
            <span ng-show="editing">
              <select class="form-control" ng-model="user.lieblingsessen" ng-options="meal.name for meal in meals">
              </select>
            </span>
          </td>
          <td>
            <button ng-click="editing = !editing" class="btn btn-warning">
              <span class="glyphicon" ng-class="{'glyphicon-pencil': !editing, 'glyphicon-ok': editing}"></span>
            </button>
            <button ng-click="removeUser(user)" class="btn btn-danger">
              <span class="glyphicon glyphicon-remove"></span>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
